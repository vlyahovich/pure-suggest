{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/extension/util/EventEmitter.ts","webpack:///./src/extension/enums.ts","webpack:///./src/extension/extension.ts","webpack:///./src/extension/util/debounce.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","KEYS","EventEmitter","this","length","events","on","eventName","fn","_this","push","off","filter","eventFn","trigger","args","_i","arguments","event","forEach","apply","SEARCH_DEBOUNCE","extension_PureSuggest","_super","PureSuggest","el","options","focused","index","createSource","Error","input","querySelector","suggestSource","initialData","handleSelfClick","handleKeyDown","handleFocus","handleBlur","doImmSearch","doSearch","time","timeout","clearTimeout","setTimeout","debounce","handleItemClick","handleItemMove","handleBubbleClose","addEventListener","__extends","multi","style","display","focus","which","keyCode","UP","handleUp","DOWN","handleDown","ENTER","handleSelect","ESC","handleEsc","preventDefault","classList","add","addEl","remove","menuEl","menuItems","updateHovered","id","getAttribute","setValue","blur","getInputValue","trim","item","suggestItems","addBubble","title","search","then","items","updateMenu","findDataItem","target","indexOf","stopPropagation","className","removeBubble","handleBubbleClick","check","parentNode","term","innerHTML","menuWrapEl","document","createElement","appendChild","fragment_1","createDocumentFragment","createMenuItem","notFoundEl","textContent","fragment","menuItemEl","titleEl","subtitleEl","highlight","hideAvatar","imageWrapEl","imageEl","setAttribute","image","createHighlight","subtitle","String","preEl","createTextNode","hlEl","postEl","bubblesEl","insertBefore","bubbleEl","bubbleTextEl","bubbleCloseEl","map","_a","bubble","removeChild","destroy","removeEventListener"],"mappings":"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","file":"extension.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","export class EventEmitter {\n    public length = 0;\n\n    protected events: {\n        [propName: string]: Function[];\n    };\n\n    constructor() {\n        this.events = {};\n    }\n\n    on(eventName: string, fn: Function) {\n        if (!this.events[eventName]) {\n            this.events[eventName] = [];\n        }\n\n        this.events[eventName].push(fn);\n        this.length++;\n\n        return () => this.off(eventName, fn);\n    }\n\n    off(eventName: string, fn: Function) {\n        this.events[eventName] = this.events[eventName].filter((eventFn) => fn !== eventFn);\n        this.length--;\n    }\n\n    trigger(eventName: string, ...args: any[]) {\n        let event = this.events[eventName];\n\n        if (event) {\n            event.forEach((fn) => fn(...args));\n        }\n    }\n}","export enum KEYS {\n    UP = 38,\n    DOWN = 40,\n    ENTER = 13,\n    ESC = 27\n}","import {SuggestItem} from './interfaces';\nimport {SuggestSource} from './SuggestSource';\nimport {EventEmitter} from './util/EventEmitter';\nimport {debounce} from './util/debounce';\nimport {KEYS} from './enums';\n\nimport './extension.less';\n\nexport interface ExtensionOptions {\n    hideAvatar?: boolean,\n    multi?: boolean,\n    initialData?: any[],\n    createSource: (initialData?: any[]) => SuggestSource\n}\n\nconst FOCUSED = 'suggest_focused';\nconst ITEM_HOVERED = 'suggest-item_hovered';\nconst SEARCH_DEBOUNCE = 250;\n\nexport class PureSuggest extends EventEmitter {\n    protected el: HTMLElement;\n    protected input: HTMLInputElement;\n    protected suggestSource: SuggestSource;\n    protected focused: boolean = false;\n    protected menuWrapEl?: HTMLDivElement;\n    protected menuEl?: HTMLDivElement;\n    protected menuItems?: HTMLDivElement[];\n    protected suggestItems?: SuggestItem[];\n    protected bubblesEl?: HTMLDivElement;\n    protected addEl?: HTMLDivElement;\n    protected index: number = 0;\n    protected options: ExtensionOptions;\n    protected value: SuggestItem[] = [];\n    protected doImmSearch: Function;\n\n    constructor(el: HTMLDivElement, options: ExtensionOptions) {\n        super();\n\n        if (!options || !options.createSource) {\n            throw new Error('createSource is required');\n        }\n\n        // init\n        this.el = el;\n        this.input = this.el.querySelector('.suggest__input');\n        this.suggestSource = options.createSource(options.initialData);\n        this.options = options;\n\n        // bindings\n        this.handleSelfClick = this.handleSelfClick.bind(this);\n        this.handleKeyDown = this.handleKeyDown.bind(this);\n        this.handleFocus = this.handleFocus.bind(this);\n        this.handleBlur = this.handleBlur.bind(this);\n        this.doImmSearch = this.doSearch.bind(this);\n        this.doSearch = debounce(this.doImmSearch, SEARCH_DEBOUNCE);\n        this.handleItemClick = this.handleItemClick.bind(this);\n        this.handleItemMove = this.handleItemMove.bind(this);\n        this.handleBubbleClose = this.handleBubbleClose.bind(this);\n        this.handleBubbleClose = this.handleBubbleClose.bind(this);\n\n        // listeners\n        this.el.addEventListener('click', this.handleSelfClick);\n        this.input.addEventListener('keydown', this.handleKeyDown);\n        this.input.addEventListener('input', this.doSearch);\n        this.input.addEventListener('focus', this.handleFocus);\n        this.input.addEventListener('blur', this.handleBlur);\n    }\n\n    /**\n     * Hnndle click on element itself to focus back\n     */\n    handleSelfClick() {\n        if (this.options.multi) {\n            this.input.style.display = '';\n        }\n\n        this.input.focus();\n    }\n\n    /**\n     * Handle command keys\n     */\n    handleKeyDown(event: KeyboardEvent) {\n        let key = event.which || event.keyCode;\n\n        if (key === KEYS.UP) {\n            this.handleUp();\n        } else if (key === KEYS.DOWN) {\n            this.handleDown();\n        } else if (key === KEYS.ENTER) {\n            this.handleSelect();\n        } else if (key === KEYS.ESC) {\n            this.handleEsc();\n        } else {\n            return;\n        }\n\n        event.preventDefault();\n    }\n\n    /**\n     * Focus state\n     */\n    handleFocus() {\n        this.focused = true;\n\n        this.el.classList.add(FOCUSED);\n\n        if (this.options.multi && this.addEl) {\n            this.addEl.style.display = 'none';\n        }\n\n        this.doImmSearch();\n\n        this.trigger('focus');\n    }\n\n    /**\n     * Blur state\n     */\n    handleBlur() {\n        this.focused = false;\n\n        this.el.classList.remove(FOCUSED);\n\n        if (this.options.multi) {\n            if (this.value.length) {\n                this.input.style.display = 'none';\n            } else {\n                this.input.style.display = '';\n            }\n\n            if (this.addEl) {\n                this.addEl.style.display = '';\n            }\n        }\n\n        if (this.menuEl) {\n            this.menuEl.style.display = 'none';\n        }\n\n        this.trigger('blur');\n    }\n\n    /**\n     * Handle KEYS.UP key\n     */\n    handleUp() {\n        if (!this.menuItems || this.index <= 0 || !this.focused) {\n            return;\n        }\n\n        this.updateHovered(this.index - 1);\n    }\n\n    /**\n     * Handle KEYS.DOWN key\n     */\n    handleDown() {\n        if (!this.menuItems || this.index >= this.menuItems.length - 1 || !this.focused) {\n            return;\n        }\n\n        this.updateHovered(this.index + 1);\n    }\n\n    /**\n     * Handle KEYS.ENTER key\n     */\n    handleSelect() {\n        if (!this.menuItems) {\n            return;\n        }\n\n        let id = this.menuItems[this.index].getAttribute('data-id');\n\n        this.setValue(id);\n\n        this.input.blur();\n    }\n\n    /**\n     * Handle KEYS.ESCAPE key\n     */\n    handleEsc() {\n        this.input.blur();\n    }\n\n    /**\n     * Return trimmed input value\n     */\n    getInputValue() {\n        return this.input.value.trim();\n    }\n\n    /**\n     * Update input value and ui state\n     */\n    setValue(id: string) {\n        let item = this.suggestItems[this.index];\n\n        this.index = 0;\n\n        if (this.options.multi) {\n            this.input.value = '';\n\n            this.value.push(item);\n\n            this.addBubble(item);\n        } else {\n            this.input.value = item.title;\n\n            this.value = [item];\n\n            this.trigger('change', id);\n        }\n    }\n\n    /**\n     * Search from suggest source\n     */\n    doSearch() {\n        this.suggestSource\n            .search(this.getInputValue(), this.options.multi ? this.value : [])\n            .then((items) => this.updateMenu(items));\n    }\n\n    /**\n     * Handle click on item in menu\n     */\n    handleItemClick(event: Event) {\n        let item = this.findDataItem(event.target as Element) as HTMLDivElement;\n\n        if (item) {\n            let id = item.getAttribute('data-id');\n\n            this.updateHovered(this.menuItems.indexOf(item));\n\n            this.setValue(id);\n        }\n    }\n\n    /**\n     * Handle item mouse move\n     */\n    handleItemMove(event: Event) {\n        let item = this.findDataItem(event.target as Element) as HTMLDivElement;\n\n        if (item) {\n            this.updateHovered(this.menuItems.indexOf(item));\n        }\n    }\n\n    /**\n     * Handle close button click on bubble\n     */\n    handleBubbleClose(event: Event) {\n        let target = event.target as Element;\n\n        event.stopPropagation();\n\n        if (target.className === 'suggest-bubble__close') {\n            let item = this.findDataItem(event.target as Element) as HTMLDivElement;\n\n            if (item) {\n                this.removeBubble(item);\n            }\n        }\n    }\n\n    /**\n     * Stop events on bubble click\n     */\n    handleBubbleClick(event: Event) {\n        event.stopPropagation();\n    }\n\n    /**\n     * Find parent menu item\n     */\n    findDataItem(target: Element): Element | void {\n        let el = target,\n            check = () => el && el.getAttribute && el.getAttribute('data-id');\n\n        if (check()) {\n            return el;\n        }\n\n        while (el.parentNode) {\n            el = el.parentNode as Element;\n\n            if (check()) {\n                return el;\n            }\n        }\n    }\n\n    /**\n     * Update index and hovered menu item\n     */\n    updateHovered(index: number) {\n        this.menuItems[this.index].classList.remove(ITEM_HOVERED);\n\n        this.index = index;\n\n        this.menuItems[this.index].classList.add(ITEM_HOVERED);\n    }\n\n    /**\n     * Create menu if needed, create items according to suggest data\n     */\n    updateMenu(items: SuggestItem[]) {\n        let term = this.getInputValue();\n\n        this.menuItems = [];\n        this.suggestItems = items;\n\n        if (this.menuEl) {\n            this.menuEl.innerHTML = '';\n            this.menuEl.style.display = '';\n        } else {\n            this.menuWrapEl = document.createElement('div');\n            this.menuEl = document.createElement('div');\n\n            this.menuWrapEl.className = 'suggest__menu-wrap';\n            this.menuEl.className = 'suggest__menu';\n\n            this.el.appendChild(this.menuWrapEl);\n            this.menuWrapEl.appendChild(this.menuEl);\n\n            this.menuEl.addEventListener('mousedown', this.handleItemClick);\n            this.menuEl.addEventListener('mousemove', this.handleItemMove);\n        }\n\n        if (items.length) {\n            let fragment = document.createDocumentFragment();\n\n            this.index = 0;\n\n            items.forEach((item) => this.createMenuItem(item, fragment, term));\n\n            this.menuEl.appendChild(fragment);\n\n            this.updateHovered(this.index);\n        } else {\n            let notFoundEl = document.createElement('div');\n\n            notFoundEl.className = 'suggest__not-found';\n            notFoundEl.textContent = 'User not found';\n\n            this.menuEl.appendChild(notFoundEl);\n        }\n    }\n\n    /**\n     * Create one menu item\n     */\n    createMenuItem(item: SuggestItem, fragment: DocumentFragment, term: string) {\n        let menuItemEl = document.createElement('div'),\n            titleEl = document.createElement('div'),\n            subtitleEl = document.createElement('div'),\n            highlight = this.suggestSource.highlight(item.title, term);\n\n        if (!this.options.hideAvatar) {\n            let imageWrapEl = document.createElement('div'),\n                imageEl = document.createElement('img');\n\n            imageEl.setAttribute('src', item.image);\n            imageEl.setAttribute('alt', item.title);\n\n            imageWrapEl.className = 'suggest-item__image';\n\n            imageWrapEl.appendChild(imageEl);\n            menuItemEl.appendChild(imageWrapEl);\n        }\n\n        menuItemEl.className = 'suggest-item';\n        titleEl.className = 'suggest-item__title';\n        subtitleEl.className = 'suggest-item__subtitle';\n\n        if (highlight.length <= 1) {\n            titleEl.textContent = item.title;\n        } else {\n            this.createHighlight(titleEl, highlight);\n        }\n\n        subtitleEl.textContent = item.subtitle;\n\n        menuItemEl.appendChild(titleEl);\n        menuItemEl.appendChild(subtitleEl);\n\n        menuItemEl.setAttribute('data-id', String(item.id));\n\n        fragment.appendChild(menuItemEl);\n\n        this.menuItems.push(menuItemEl);\n    }\n\n    /**\n     * Create highlight for one item\n     */\n    createHighlight(titleEl: HTMLDivElement, highlight: string[]) {\n        if (highlight[1] && highlight[1].trim()) {\n            let preEl = document.createTextNode(highlight[0]),\n                hlEl = document.createElement('span');\n\n            hlEl.textContent = highlight[1];\n\n            titleEl.appendChild(preEl);\n            titleEl.appendChild(hlEl);\n\n            if (highlight[2]) {\n                let postEl = document.createTextNode(highlight[2]);\n\n                titleEl.appendChild(postEl);\n            }\n        } else {\n            titleEl.textContent = highlight[0];\n        }\n    }\n\n    /**\n     * Add bubble for multi-suggest\n     */\n    addBubble(item: SuggestItem) {\n        if (!this.bubblesEl) {\n            this.bubblesEl = document.createElement('div');\n            this.addEl = document.createElement('div');\n\n            this.bubblesEl.className = 'suggest__bubbles';\n            this.addEl.className = 'suggest__add';\n\n            this.addEl.textContent = 'Add';\n\n            this.el.insertBefore(this.bubblesEl, this.input);\n            this.el.insertBefore(this.addEl, this.input);\n\n            this.bubblesEl.addEventListener('mousedown', this.handleBubbleClose);\n            this.bubblesEl.addEventListener('click', this.handleBubbleClick);\n        }\n\n        let bubbleEl = document.createElement('div'),\n            bubbleTextEl = document.createElement('div'),\n            bubbleCloseEl = document.createElement('div');\n\n        bubbleEl.className = 'suggest-bubble';\n        bubbleTextEl.className = 'suggest-bubble__text';\n        bubbleCloseEl.className = 'suggest-bubble__close';\n\n        bubbleEl.setAttribute('data-id', item.id);\n\n        bubbleTextEl.textContent = item.title;\n\n        bubbleEl.appendChild(bubbleTextEl);\n        bubbleEl.appendChild(bubbleCloseEl);\n        this.bubblesEl.appendChild(bubbleEl);\n\n        this.el.classList.add('suggest_filled');\n\n        this.trigger('change', this.value.map(({id}) => id));\n    }\n\n    /**\n     * Remove bubble for multi-suggest\n     */\n    removeBubble(bubble: HTMLDivElement) {\n        let id = bubble.getAttribute('data-id');\n\n        if (id) {\n            this.bubblesEl.removeChild(bubble);\n\n            this.value = this.value.filter((item) => item.id !== id);\n\n            if (!this.value.length) {\n                this.el.classList.remove('suggest_filled');\n\n                this.input.style.display = '';\n            }\n\n            this.trigger('change', this.value.map(({id}) => id));\n        }\n    }\n\n    /**\n     * Cleanup\n     */\n    destroy() {\n        this.suggestSource = null;\n        this.options = null;\n\n        this.el.removeEventListener('click', this.handleSelfClick);\n        this.input.removeEventListener('keydown', this.handleKeyDown);\n        this.input.removeEventListener('input', this.doSearch);\n        this.input.removeEventListener('focus', this.handleFocus);\n        this.input.removeEventListener('blur', this.handleBlur);\n\n        if (this.menuEl) {\n            this.menuEl.removeEventListener('mousedown', this.handleItemClick);\n            this.menuEl.removeEventListener('mousemove', this.handleItemMove);\n        }\n\n        if (this.bubblesEl) {\n            this.bubblesEl.removeEventListener('mousedown', this.handleBubbleClose);\n            this.bubblesEl.removeEventListener('click', this.handleBubbleClick);\n\n            this.el.removeChild(this.bubblesEl);\n            this.el.removeChild(this.addEl);\n        }\n\n        this.el.removeChild(this.menuWrapEl);\n\n        this.el = null;\n        this.input = null;\n    }\n}","export function debounce(fn: Function, time?: number) {\n  let timeout: any;\n\n  return function(...args: any[]) {\n    clearTimeout(timeout);\n\n    timeout = setTimeout(() => fn(...args), time);\n  }\n}"],"sourceRoot":""}